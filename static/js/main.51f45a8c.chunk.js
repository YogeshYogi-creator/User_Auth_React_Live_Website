(this.webpackJsonpathentication=this.webpackJsonpathentication||[]).push([[0],{61:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(29),r=c.n(s),o=c(10),l=(c(36),c(4)),i=c(12),j=c(2),u=c(0),b=function(e){return Object(u.jsx)("div",{className:"mt-3",children:Object(u.jsx)("h1",{children:"Home"})})},h=c(8),m=c.n(h),d=function(e){var t=Object(a.useState)(""),c=Object(l.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(""),o=Object(l.a)(r,2),i=o[0],j=o[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),d=h[0],O=h[1],p=Object(a.useState)({}),x=Object(l.a)(p,2),g=x[0],f=x[1],v={};return Object(u.jsxs)("div",{className:"mt-3",children:[Object(u.jsx)("h2",{children:"Register"}),Object(u.jsxs)("form",{style:{width:"50%"},onSubmit:function(t){if(t.preventDefault(),0===n.trim().length&&(v.userName="user name cannot be blank"),0===i.trim().length&&(v.email="email cannot be blank"),0===d.trim().length&&(v.password="password cannot be blank"),0===Object.keys(v).length){f({});var c={username:n,email:i,password:d};m.a.post("https://dct-user-auth.herokuapp.com/users/register",c).then((function(t){var c=t.data;c.hasOwnProperty("errors")?alert(c.message):(alert("successfully created user"),e.history.push("/login"))})).catch((function(e){alert(e.message)})),s(""),j(""),O("")}else console.log(v),f(v)},children:[Object(u.jsx)("input",{className:"form-control",type:"text",value:n,onChange:function(e){s(e.target.value)},placeholder:"user name",name:"username"}),g.userName&&Object(u.jsx)("span",{style:{color:"red",marginLeft:"3px"},children:g.userName}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"form-control",type:"email",value:i,onChange:function(e){j(e.target.value)},placeholder:"email@gmail.com",name:"email"}),g.email&&Object(u.jsx)("span",{style:{color:"red",marginLeft:"3px"},children:g.email}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"form-control",type:"text",value:d,onChange:function(e){O(e.target.value)},placeholder:"password",name:"password"}),g.password&&Object(u.jsx)("span",{style:{color:"red",marginLeft:"3px"},children:g.password}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:" mb-3 btn btn-success form-control",type:"submit"}),Object(u.jsx)("br",{})]})]})},O=function(e){var t=Object(a.useState)(""),c=Object(l.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(""),o=Object(l.a)(r,2),i=o[0],j=o[1],b=Object(a.useState)({}),h=Object(l.a)(b,2),d=h[0],O=h[1],p={};return Object(u.jsxs)("div",{className:"mt-3",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Login"})}),Object(u.jsxs)("form",{style:{width:"50%"},onSubmit:function(t){if(t.preventDefault(),0===n.trim().length&&(p.email="email cannot be blank"),0===i.trim().length&&(p.password="password cannot be blank"),0===Object.keys(p).length){O({});var c={email:n,password:i};m.a.post("https://dct-user-auth.herokuapp.com/users/login",c).then((function(t){var c=t.data;c.hasOwnProperty("errors")?alert(c.errors):(alert("sussessfully logged in"),localStorage.setItem("token",c.token),e.history.push("/"),e.handleAuth())})).catch((function(e){alert(e.message)})),s(""),j("")}else console.log(p),O(p)},children:[Object(u.jsx)("input",{className:"form-control",type:"email",value:n,onChange:function(e){s(e.target.value)},placeholder:"enter email",name:"email"}),d.email&&Object(u.jsx)("span",{style:{color:"red",marginLeft:"3px"},children:d.email}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"form-control",type:"text",value:i,onChange:function(e){j(e.target.value)},placeholder:"enter password",name:"password"}),d.password&&Object(u.jsx)("span",{style:{color:"red",marginLeft:"3px"},children:d.password}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"mb-3 btn btn-success form-control",type:"submit"}),Object(u.jsx)("br",{})]})]})},p=function(e){var t=Object(a.useState)({}),c=Object(l.a)(t,2),n=c[0],s=c[1];return Object(a.useEffect)((function(){m.a.get("https://dct-user-auth.herokuapp.com/users/account",{headers:{"x-auth":localStorage.getItem("token")}}).then((function(e){var t=e.data;s(t)})).catch((function(e){alert(e.message)}))}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"User Account"}),Object(u.jsxs)("p",{children:["User Name - ",n.username]}),Object(u.jsxs)("p",{children:["Email - ",n.email]})]})},x=c(31),g=function(e){var t=e._id,c=e.title,a=e.body,n=e.removeItem;return Object(u.jsx)("div",{className:"bg card bg-warning mt-3 mb-3",style:{textAlign:"left"},children:Object(u.jsxs)("div",{className:"bg card-body",children:[Object(u.jsx)("h3",{classsName:"bg card-title",children:c}),Object(u.jsx)("hr",{}),Object(u.jsx)("p",{className:"bg card-text",children:a}),Object(u.jsx)("img",{onClick:function(){window.confirm("Are you sure?")&&m.a.delete("https://dct-user-auth.herokuapp.com/api/notes/".concat(t),{headers:{"x-auth":localStorage.getItem("token")}}).then((function(e){var t=e.data;n(t._id)})).catch((function(e){alert(e.message)}))},src:"https://img.icons8.com/fluent/48/000000/minus.png"})]})})},f=function(e){var t=e.notes,c=e.removeItem;return Object(u.jsx)("div",{className:"bg",children:0===t.length?Object(u.jsxs)("div",{className:"bg",children:[Object(u.jsx)("h2",{children:"No Notes found"}),Object(u.jsx)("p",{children:"Add your first Note"})]}):Object(u.jsxs)("div",{children:[Object(u.jsxs)("h2",{children:["My Notes - ",t.length]}),t.map((function(e){return Object(u.jsx)(g,Object(i.a)(Object(i.a)({},e),{},{removeItem:c}),e._id)}))]})})},v=function(e){var t=e.formSubmit,c=Object(a.useState)(""),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),j=i[0],b=i[1];return Object(u.jsx)("div",{className:"mt-3",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({title:s,body:j}),r(""),b("")},children:[Object(u.jsx)("input",{className:"form-control",type:"text",value:s,onChange:function(e){r(e.target.value)},placeholder:"Note Title"}),Object(u.jsx)("br",{}),Object(u.jsx)("textarea",{className:"form-control",type:"text",value:j,onChange:function(e){b(e.target.value)},placeholder:"Note"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"form-control",type:"submit",value:"save"})]})})},N=function(e){var t=e.addItem;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Add Note"}),Object(u.jsx)(v,{formSubmit:function(e){m.a.post("https://dct-user-auth.herokuapp.com/api/notes",e,{headers:{"x-auth":localStorage.getItem("token")}}).then((function(e){var c=e.data;t(c)})).catch((function(e){alert(e.message)}))}})]})},y=function(e){var t=Object(a.useState)([]),c=Object(l.a)(t,2),n=c[0],s=c[1];Object(a.useEffect)((function(){m.a.get("https://dct-user-auth.herokuapp.com/api/notes",{headers:{"x-auth":localStorage.getItem("token")}}).then((function(e){var t=e.data;console.log(t),s(t)})).catch((function(e){alert(e.message)}))}),[]);return Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"mt-5 col-md-6",children:Object(u.jsx)(f,{notes:n,removeItem:function(e){var t=n.filter((function(t){return t._id!==e}));s(t)}})}),Object(u.jsx)("div",{className:"mt-5 col-md-6",children:Object(u.jsx)(N,{addItme:function(e){s([].concat(Object(x.a)(n),[e]))}})})]})},k=Object(j.e)((function(e){var t=e.userLoggedIn,c=e.handleAuth;return Object(u.jsxs)("div",{className:"mt-3",children:[t?Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsx)(o.b,{to:"/account",children:"Account"}),Object(u.jsx)("b",{children:" | "}),Object(u.jsx)(o.b,{to:"/notesContainer",children:"Note's"}),Object(u.jsx)("b",{children:" | "}),Object(u.jsx)(o.b,{to:"/logout",onClick:function(){localStorage.removeItem("token"),alert("Logout Successful"),c(),e.history.push("/")},children:"Logout"})]}):Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsx)(o.b,{to:"/",children:"Home"}),Object(u.jsx)("b",{children:" | "}),Object(u.jsx)(o.b,{to:"/register",children:"Register"}),Object(u.jsx)("b",{children:" | "}),Object(u.jsx)(o.b,{to:"/login",children:"Login"})]}),Object(u.jsx)(j.a,{path:"/",component:b,exact:!0}),Object(u.jsx)(j.a,{path:"/register",component:d}),Object(u.jsx)(j.a,{path:"/login",render:function(e){return Object(u.jsx)(O,Object(i.a)(Object(i.a)({},e),{},{handleAuth:c}))}}),Object(u.jsx)(j.a,{path:"/account",component:p}),Object(u.jsx)(j.a,{path:"/notesContainer",component:y})]})})),S=function(e){var t=Object(a.useState)(!1),c=Object(l.a)(t,2),n=c[0],s=c[1],r=function(){s(!n)};return Object(a.useEffect)((function(){localStorage.getItem("token")&&r()}),[]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{className:"display-4",children:"User Auth"}),Object(u.jsx)("div",{children:Object(u.jsx)("center",{children:Object(u.jsx)(k,{userLoggedIn:n,handleAuth:r})})})]})};r.a.render(Object(u.jsx)(o.a,{children:Object(u.jsx)(S,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.51f45a8c.chunk.js.map